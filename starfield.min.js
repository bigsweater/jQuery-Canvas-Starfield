!function($,window,document){var Starfield=function(el,options){this.el=el,this.$el=$(el),this.options=options};Starfield.prototype={defaults:{starColor:"rgba(255,255,255,1)",bgColor:"rgba(0,0,0,1)",mouseMove:!0,mouseColor:"rgba(0,0,0,0.2)",mouseSpeed:20,fps:15,speed:5,quantity:512,ratio:256,"class":"starfield"},init:function(){var starz=$("canvas",this.el);starz.width=w,starz.height=h,this.context=starz[0].getContext("2d");for(var i=0;i<this.n;i++)star[i]=new Array(5),star[i][0]=2*Math.random()*w-2*x,star[i][1]=2*Math.random()*h-2*y,star[i][2]=Math.round(Math.random()*z),star[i][3]=0,star[i][4]=0;return this.context.fillStyle=this.bgColor,this.context.strokeStyle=this.starColor,this.loop(),this},anim:function(){var starz=$("canvas",this.el);starz.width=w,starz.height=h,this.context=starz[0].getContext("2d"),mouse_x=cursor_x-x,mouse_y=cursor_y-y,this.context.fillRect(0,0,w,h);for(var i=0;i<this.n;i++)test=!0,star_x_save=star[i][3],star_y_save=star[i][4],star[i][0]+=mouse_x>>4,star[i][0]>x<<1&&(star[i][0]-=w<<1,test=!1),star[i][0]<-x<<1&&(star[i][0]+=w<<1,test=!1),star[i][1]+=mouse_y>>4,star[i][1]>y<<1&&(star[i][1]-=h<<1,test=!1),star[i][1]<-y<<1&&(star[i][1]+=h<<1,test=!1),star[i][2]-=star_speed,star[i][2]>z&&(star[i][2]-=z,test=!1),star[i][2]<0&&(star[i][2]+=z,test=!1),star[i][3]=x+star[i][0]/star[i][2]*star_ratio,star[i][4]=y+star[i][1]/star[i][2]*star_ratio,star_x_save>0&&w>star_x_save&&star_y_save>0&&h>star_y_save&&test&&(this.context.lineWidth=2*(1-star_color_ratio*star[i][2]),this.context.beginPath(),this.context.moveTo(star_x_save,star_y_save),this.context.lineTo(star[i][3],star[i][4]),this.context.stroke(),this.context.closePath())},loop:function(){this.anim(),window.requestAnimationFrame(this.loop.bind(this))},get_screen_size:function(){var w=el.width(),h=el.height();return Array(w,h)},move:function(evt){evt=evt||event;var doc=document.documentElement;cursor_x=evt.pageX||evt.clientX+doc.scrollLeft-doc.clientLeft,cursor_y=evt.pageY||evt.clientY+doc.scrollTop-doc.clientTop},resizer:function(){w=$(this.el).width(),h=$(this.el).height(),x=Math.round(w/2),y=Math.round(h/2),z=(w+h)/2,star_color_ratio=1/z,cursor_x=x,cursor_y=y,$("canvas",this.el).attr("width",w).attr("height",h);var curEl=this;return $(window).resize(function(){curEl.resizer()}),this.init(),this},start:function(){this.settings=$.extend({},this.defaults,this.options,this.metadata),w=$(this.el).width(),h=$(this.el).height(),$('<canvas class="'+this.settings.class+'" width="'+w+'" height="'+h+'"></canvas>').appendTo(this.el);var url=document.location.href;parseInt(-1!=url.indexOf("n=")?url.substring(url.indexOf("n=")+2,-1!=url.substring(url.indexOf("n=")+2,url.length).indexOf("&")?url.indexOf("n=")+2+url.substring(url.indexOf("n=")+2,url.length).indexOf("&"):url.length):this.settings.quantity);var w=0,h=0;this.settings.ratio,this.settings.speed,new Array(this.n),this.settings.fps,this.resizer(),this.anim(),console.log("Started!")}},Starfield.defaults=Starfield.prototype.defaults,$.fn.starfield=function(options){return this.each(function(){new Starfield(this,options).start()})}}(jQuery,window,document);